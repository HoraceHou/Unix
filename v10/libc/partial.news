steps towards phasing out onexit and towards ansi:
